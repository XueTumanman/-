# 1. 未配置 OS 的计算机系统

## 1.1. 人工操作方式

### 1.1.1. 过程

1. 事先准备已穿孔的【纸带，卡片】
2. 纸带装入输入机
3. 启动计算机

### 1.1.2. 缺点

1. 用户独占全机
2. CPU 等待人工操作，降低 OS 资源利用率
3. CPU 和 I/O 速度不匹配
**【通道技术，缓冲技术】都不能解决**

## 1.2. 脱机【输入、输出】方式

- 【程序，数据】的【输入，输出】都在外围机控制下完成

### 1.2.1. 优点

- 减少 CPU 等待时间
- 提高 I/O 速度，需要数据时，直接从高速磁带上读数据到内存

### 1.2.2. 联机输入输出

- 主机控制下进行【输入，输出】方式

# 2. 单道批处理 OS

## 2.1. 处理过程

1. 先：把一批作业脱机输入到磁带
2. 并：配上监督程序
3. 监督程序将第一个作业装入内存，给予控制权
4. 当：作业完成时，收回控制权
5. 监督程序：“下一个！”

## 2.2. 优点

- 内存中始终有一道程序
- 解决【用户独占的人机矛盾，CPU 和 I/O 的速度不匹配】问题
- 提高【资源利用率，吞吐率】

## 2.3. 缺点 

- OS 资源的不到充分利用，运行程序 I/O 请求时，CPU 要等待
- 单批道，浪费内存

# 3. 多道批处理 OS

- 作业放在外存，形成后备队列
- 由作业调度程序按一定算法选择若干作业调入内存

## 3.1. 优点

- 多道程序交替执行【CPU，I/O设备，内存】利用率高
- CPU 持续繁忙，作业【完成，运行不了】才切换，OS 吞吐量大

## 3.2. 缺点

- 平均周转时间长，作业要排队
- 无交互能力，提交作业，用户就管不了

## 3.3. 待解决问题

-  处理机争用：同时满足程序运行的需要并提高处理机利用率
-  内存【分配，保护】：程序有内存空间，内存空间要独立
-  I/O 设备分配：方便用户的使用，提高设备利用率
-  文件的【组织，管理】：有效组织系统的【程序，数据】，方便使用，保证数据安全
-  作业管理：对作业合理的组织
-  用户和系统的接口：提供用户和 OS 的接口

# 4. 分时 OS

- 一台主机连接多个终端组成的系统

## 4.1. 分时系统的引入

- 人机交互：提交后的程序能修改
- 共享主机：逻辑上独占主机

## 4.2. 关键问题

- 提供多个终端，并及时【接受，处理】命令，返回结果，并继续

- ### 及时接受

  - 调度配置多路卡，实现多路复用
  - 为每个终端配置缓冲区，暂存【命令，数据】，让终端输入的数据能被依次处理

- ### 及时处理

  - 作业直接进入内存，频繁获得处理机资源
  - 轮转运行，避免处理机被长期占用

- ### 时间片

  - 每个作业每次能运行的短暂时间

## 4.3. 分时 OS 特征

- ### 多路性

  - 多终端共享主机，提高资源利用率，降低费用

- ### 独立性

  - 用户之间彼此独立

- ### 及时性

  - 用户请求能在很短的时间内响应

- ### 交互性

  - 用户通过终端与 OS 进行多功能的人机交互

# 5. 实时 OS

## 5.1. 实时 OS 类型

- ### 工业（武器）控制
- ### 信息查询 OS
- ### 多媒体 OS
- ### 嵌入式 OS

## 5.2. 实时任务类型

- ### 周期性

  - #### 有周期性

    - 外部设备周期性发出激励信号，在计算机周期循环执行

  - #### 非周期性

    - 有截止时间【开始截止时间，完成截止时间】

- ### 软硬性

  - #### 硬实时任务（HRT）

    - 满足任务对截止时间的要求

  - #### 软实时任务（SRT）

    -  也有截止时间，但不严格

**实时分时的比较**
|   | 实时系统 | 分时系统 |
|---|---|---|
| 多路性 | 系统周期性的【多路采集，多对象控制】 | 系统按分时原则服务多个终端 |
| 独立性 | 互不干扰 | 互不干扰 |
| 及时性 | 依据截止时间 | 依据人的等待时间 |
| 交互性 | 限定功能 | 限定功能 |
| 可靠性 | 高度可靠，多级容错 | 可靠 |

# 6. 微机 OS

- 配置在微机上的操作系统（8 位微机上的 CP/M）

## 6.1. 微机 OS 分类

- ### 单用户单任务 OS

  - 一个用户上机，一个用户程序运行

  - #### CP/M

    1. 1975，Digital Research 开发出带有软盘系统的 8 位微机 OS
    2. 1977，CP/M 重写，可配置在 Intel【8080，8085，Z80】
    3. 1979，CP/M，带软盘功能
    4. 较好的体系结构，可适应性强，可移植性，易学易用

  - #### MS-DOS

    1. 1981，IBM 推出 IBM-PC（16 位机），使用 MS-DOS，基于 CP/M，功能提升大1.
    2. 1983，IBM 推出 PC/AT（Intel 80286）
    3. 1983，微软推出 MS-DOS 2.0，支持硬盘，树型目录结构文件系统

- ### 单用户多任务 OS

  -  一个用户上机，多个程序并发

  - #### Windows 3.0
    
    1. 引入图形界面
    2. 支持多任务
    3. 支持扩展内存

  - #### Windows 95

	1. 全 32 位处理机
	2. 支持 Internet 网络功能
		
  - #### Windows 98

	1. 整合 IE
	2. 增加多媒体支持

- ### 多用户多任务 OS

  - 多个用户上机，多个程序并发执行

  - #### Unix
  - #### Solaris
  - #### Linux